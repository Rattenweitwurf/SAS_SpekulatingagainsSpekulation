<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Munich Map</title>

<!-- Mapbox CSS -->
<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">

<style>
  body {
    margin: 0;
    padding: 0;
  }

  #map {
    width: 100%;
    height: 100vh;
  }

  /* ------------------- */
  /* CUSTOM MARKER STYLE */
  /* ------------------- */

   .custom-marker {
    width: 12px;
    height: 12px;
    background-color: black;
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .custom-marker:hover {
    transform: scale(1.4);
  }


  /* ------------------- */
  /* CUSTOM POPUP STYLE */
  /* ------------------- */

  .mapboxgl-popup-content {
    background: white;
    color: black;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 13px;
    padding: 6px 10px;
    border-radius: 0;
    box-shadow: none;
  }

  .mapboxgl-popup-tip {
    display: none;
  }
</style>
</head>

<body>

<div id="map"></div>

<!-- Mapbox JS -->
<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

<script>
  mapboxgl.accessToken = 'pk.eyJ1Ijoib3B0aW1pc3RvZmZpY2UiLCJhIjoiY21pcm41aHU0MGRxZjNoc2F0cWRheHltMSJ9.8P5I-q4YOSli0CEHn_9MNg';

  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v11',
    center: [11.57549, 48.13743], // Munich – Marienplatz
    zoom: 12
  });

  const geojson = {
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
          "title": "Agnesstraße 48",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.567768, 48.157715]
        }
      },
       {
        "type": "Feature",
        "properties": {
          "title": "Occamstraße 1",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.589052, 48.161555]
        }
      },
       {
        "type": "Feature",
        "properties": {
          "title": "Herzogstraße 87",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.572615, 48.162548]
        }
      },
       {
        "type": "Feature",
        "properties": {
          "title": "Geyerstraße 17",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.565752, 48.124164]
        }
      },
       {
        "type": "Feature",
        "properties": {
          "title": "Schubertraße 8",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.554343, 48.131036]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Tengstraße 7",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.568147, 48.155729]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Schönfeldstraße 14",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.580739, 48.145737]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Schellingstraße 25",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.576289, 48.150031]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Steinheilstraße 1",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.565467, 48.149306]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Klenzestraße 15",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.578497, 48.133010]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Rablstraße 43",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.593879, 48.126991]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Kellerstraße 3",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.591860, 48.131947]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Preysingplatz 8",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.594673, 48.133208]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Freischützstraße 75",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.643634, 48.166511]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Bonnerstraße 18",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.578278, 48.168721]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Buttermecherstraße 14",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.578723, 48.132116]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Pfänderstraße 6",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.548896, 48.155799]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Schleißheimerstraße 90",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.561737, 48.155107]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Adalbertsraße 23",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.577718, 48.152304]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Robert-Koch-Straße 11",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.591325, 48.139215]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Karlstraße 20",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.566336, 48.143294]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Agnesstraße 32",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.566512, 48.157584]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Veterinärstraße 8",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.583417, 48.150114]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Amalienstraße 18",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.576358, 48.146741]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Augsburgerstraße 7",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.565348, 48.131431]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Hoffmanstraße 69",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.528162, 48.091725]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Biedersteiner Straße 39",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.594836, 48.165315]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Breisacher Straße 27",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.605957, 48.131184]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Leopoldstraße 59",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.585746, 48.161485]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Lazarettstraße 67",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.550323, 48.154733]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Theresienstraße 158",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.560904, 48.152204]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Maria Theresia Straße 4a",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.597594, 48.138068]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Theresienstraße 150",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.561518, 48.152027]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Steinheilstraße 7",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.564927, 48.149436]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Kirchenstraße 14",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.600540, 48.133970]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Werneckstraße 17",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.588571, 48.159595]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Seeriederstraße 18a",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.601088, 48.135068]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Ungererstraße 96",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.594446, 48.170209]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Fliegenstraße 12",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.565997, 48.132095]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Pettenkoferstraße 5",
          "url": "https://035660-copy.cargo.site/agnesstraße-48"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.564149, 48.133994]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Pappenheimstraße 14",
          "url": "/isartor"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [11.551325, 48.147133]
        }
      }
    ]
  };


  geojson.features.forEach(function (feature) {

    // Create custom marker element
    const el = document.createElement('div');
    el.className = 'custom-marker';

    // Create marker
    const marker = new mapboxgl.Marker(el)
      .setLngLat(feature.geometry.coordinates)
      .addTo(map);

    // Create popup
    const popup = new mapboxgl.Popup({
      offset: 15,
      closeButton: false,
      closeOnClick: false
    }).setHTML(`
      <div class="popup-content">
        ${feature.properties.title}
      </div>
    `);

    // Hover: show label
    el.addEventListener('mouseenter', () => {
      popup.setLngLat(feature.geometry.coordinates).addTo(map);
    });

    // Hover off: hide label
    el.addEventListener('mouseleave', () => {
      popup.remove();
    });

    // Click: go to Cargo page
    el.addEventListener('click', () => {
      window.location.href = feature.properties.url;
    });

  });
</script>

</body>
</html>
